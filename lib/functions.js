const _0x73e13c=_0x3fd7;(function(_0x3f61ad,_0x36e237){const _0x3c68d1=_0x3fd7,_0x36a485=_0x3f61ad();while(!![]){try{const _0x34fd48=-parseInt(_0x3c68d1(0x1be))/0x1+parseInt(_0x3c68d1(0x1b8))/0x2*(-parseInt(_0x3c68d1(0x1b2))/0x3)+-parseInt(_0x3c68d1(0x1aa))/0x4*(parseInt(_0x3c68d1(0x1b5))/0x5)+-parseInt(_0x3c68d1(0x1a1))/0x6+parseInt(_0x3c68d1(0x189))/0x7+-parseInt(_0x3c68d1(0x1b7))/0x8+parseInt(_0x3c68d1(0x188))/0x9;if(_0x34fd48===_0x36e237)break;else _0x36a485['push'](_0x36a485['shift']());}catch(_0x2c3d18){_0x36a485['push'](_0x36a485['shift']());}}}(_0x371d,0xf34f9));function _0x371d(){const _0x4ea63c=['-vn','./tmp','arrayBuffer','writeFileSync','-vsync','48881259ZyiQhj','9463748AKioxt','error','-vf','join','exif','-ss','TYER','00:00:00','128k','readFileSync','end','sticker.mp4','default','-an','ffmpeg','writeUIntLE','fluent-ffmpeg','from','-loop','00:00:05','https://github.com/Viper-X0','axios','-ac','path','7963326dnyxHo','browser-id3-writer','artist','sticker.jpg','addTag','webp','-ar','-vcodec','sticker.webp','4ageNUz','Image','mp3','concat','Viper-x0\x20Whatsapp\x20bot','APIC','Super\x20picture','categories','5890503LfAgrh','setFrame','toFormat','8741785SnHytU','utf-8','3280680xrfpUB','2Jmqdea','TALB','Error\x20:\x20','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','writeFile','unlinkSync','337450BKuium','length','promises','author','load','title','child_process','save','exports','get','libwebp','stringify','packname'];_0x371d=function(){return _0x4ea63c;};return _0x371d();}const ID3Writer=require(_0x73e13c(0x1a2)),fs=require('fs'),path=require(_0x73e13c(0x1a0)),{spawn}=require(_0x73e13c(0x1c4)),{tmpdir}=require('os'),ff=require(_0x73e13c(0x199)),webp=require('node-webpmux');async function imageToWebp(_0x5a6758){const _0x469784=_0x73e13c,_0x52421f=path[_0x469784(0x18c)](tmpdir(),'sticker.webp'),_0x35ad4f=path[_0x469784(0x18c)](tmpdir(),_0x469784(0x1a4));fs[_0x469784(0x186)](_0x35ad4f,_0x5a6758),await new Promise((_0x335ed9,_0x237b6f)=>{const _0x286b2a=_0x469784;ff(_0x35ad4f)['on'](_0x286b2a(0x18a),_0x237b6f)['on'](_0x286b2a(0x193),()=>_0x335ed9(!![]))['addOutputOptions'](['-vcodec',_0x286b2a(0x1c8),_0x286b2a(0x18b),_0x286b2a(0x1bb)])['toFormat'](_0x286b2a(0x1a6))['save'](_0x52421f);});const _0x5c4a15=fs[_0x469784(0x192)](_0x52421f);return fs[_0x469784(0x1bd)](_0x52421f),fs[_0x469784(0x1bd)](_0x35ad4f),_0x5c4a15;}async function videoToWebp(_0x21558e){const _0x522bed=_0x73e13c,_0x21e6c6=path[_0x522bed(0x18c)](tmpdir(),_0x522bed(0x1a9)),_0xf60573=path[_0x522bed(0x18c)](tmpdir(),_0x522bed(0x194));fs['writeFileSync'](_0xf60573,_0x21558e),await new Promise((_0x2f22df,_0x40b472)=>{const _0x669001=_0x522bed;ff(_0xf60573)['on'](_0x669001(0x18a),_0x40b472)['on'](_0x669001(0x193),()=>_0x2f22df(!![]))['addOutputOptions']([_0x669001(0x1a8),_0x669001(0x1c8),'-vf',_0x669001(0x1bb),_0x669001(0x19b),'0',_0x669001(0x18e),_0x669001(0x190),'-t',_0x669001(0x19c),'-preset',_0x669001(0x195),_0x669001(0x196),_0x669001(0x187),'0'])[_0x669001(0x1b4)](_0x669001(0x1a6))[_0x669001(0x1c5)](_0x21e6c6);});const _0x1ccef9=fs['readFileSync'](_0x21e6c6);return fs['unlinkSync'](_0x21e6c6),fs[_0x522bed(0x1bd)](_0xf60573),_0x1ccef9;}async function writeExifImg(_0x62c5f2,_0x8b3e37){const _0x214d0c=_0x73e13c;let _0x167a5c=await imageToWebp(_0x62c5f2);const _0x1daf03=path[_0x214d0c(0x18c)](tmpdir(),'sticker.webp'),_0x21c2c4=path[_0x214d0c(0x18c)](tmpdir(),_0x214d0c(0x1a9));fs['writeFileSync'](_0x1daf03,_0x167a5c);if(_0x8b3e37[_0x214d0c(0x1ca)]||_0x8b3e37[_0x214d0c(0x1c1)]){const _0x56a5ca=new webp[(_0x214d0c(0x1ab))](),_0x3e2988={'sticker-pack-id':_0x214d0c(0x19d),'sticker-pack-name':_0x8b3e37[_0x214d0c(0x1ca)],'sticker-pack-publisher':_0x8b3e37[_0x214d0c(0x1c1)],'emojis':_0x8b3e37['categories']?_0x8b3e37[_0x214d0c(0x1b1)]:['']},_0x152d7a=Buffer[_0x214d0c(0x19a)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x43b599=Buffer[_0x214d0c(0x19a)](JSON['stringify'](_0x3e2988),'utf-8'),_0x123b8f=Buffer[_0x214d0c(0x1ad)]([_0x152d7a,_0x43b599]);return _0x123b8f[_0x214d0c(0x198)](_0x43b599[_0x214d0c(0x1bf)],0xe,0x4),await _0x56a5ca[_0x214d0c(0x1c2)](_0x1daf03),fs[_0x214d0c(0x1bd)](_0x1daf03),_0x56a5ca['exif']=_0x123b8f,await _0x56a5ca['save'](_0x21c2c4),_0x21c2c4;}}async function writeExifVid(_0x16d628,_0x211c5c){const _0x462a98=_0x73e13c;let _0x4ca8f2=await videoToWebp(_0x16d628);const _0x2941e3=path[_0x462a98(0x18c)](tmpdir(),'sticker.webp'),_0x118360=path[_0x462a98(0x18c)](tmpdir(),_0x462a98(0x1a9));fs[_0x462a98(0x186)](_0x2941e3,_0x4ca8f2);if(_0x211c5c['packname']||_0x211c5c['author']){const _0xd72fd8=new webp[(_0x462a98(0x1ab))](),_0x19800d={'sticker-pack-id':_0x462a98(0x19d),'sticker-pack-name':_0x211c5c[_0x462a98(0x1ca)],'sticker-pack-publisher':_0x211c5c['author'],'emojis':_0x211c5c['categories']?_0x211c5c['categories']:['']},_0x4b3ed5=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x36b4df=Buffer[_0x462a98(0x19a)](JSON[_0x462a98(0x1c9)](_0x19800d),_0x462a98(0x1b6)),_0x19942e=Buffer[_0x462a98(0x1ad)]([_0x4b3ed5,_0x36b4df]);return _0x19942e[_0x462a98(0x198)](_0x36b4df['length'],0xe,0x4),await _0xd72fd8[_0x462a98(0x1c2)](_0x2941e3),fs[_0x462a98(0x1bd)](_0x2941e3),_0xd72fd8[_0x462a98(0x18d)]=_0x19942e,await _0xd72fd8[_0x462a98(0x1c5)](_0x118360),_0x118360;}}async function writeExifWebp(_0x570ef1,_0x1122e3){const _0x463a7d=_0x73e13c,_0x48f0d6=path[_0x463a7d(0x18c)](tmpdir(),_0x463a7d(0x1a9)),_0x27b877=path[_0x463a7d(0x18c)](tmpdir(),_0x463a7d(0x1a9));fs[_0x463a7d(0x186)](_0x48f0d6,_0x570ef1);if(_0x1122e3[_0x463a7d(0x1ca)]||_0x1122e3['author']){const _0x4e58f7=new webp[(_0x463a7d(0x1ab))](),_0x229e54={'sticker-pack-id':_0x463a7d(0x19d),'sticker-pack-name':_0x1122e3['packname'],'sticker-pack-publisher':_0x1122e3[_0x463a7d(0x1c1)],'emojis':_0x1122e3[_0x463a7d(0x1b1)]?_0x1122e3[_0x463a7d(0x1b1)]:['']},_0x3fb060=await Buffer[_0x463a7d(0x19a)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x5ef651=await Buffer[_0x463a7d(0x19a)](JSON['stringify'](_0x229e54),_0x463a7d(0x1b6)),_0x204097=await Buffer[_0x463a7d(0x1ad)]([_0x3fb060,_0x5ef651]);return await _0x204097[_0x463a7d(0x198)](_0x5ef651[_0x463a7d(0x1bf)],0xe,0x4),await _0x4e58f7[_0x463a7d(0x1c2)](_0x48f0d6),fs[_0x463a7d(0x1bd)](_0x48f0d6),_0x4e58f7[_0x463a7d(0x18d)]=_0x204097,await _0x4e58f7[_0x463a7d(0x1c5)](_0x27b877),_0x27b877;}}async function getBuffer(_0x2c51c4,_0x3a4b30){const _0x50ae53=_0x73e13c;try{_0x3a4b30?_0x3a4b30:{};const _0x289f39=await require(_0x50ae53(0x19e))({'method':_0x50ae53(0x1c7),'url':_0x2c51c4,'headers':{'DNT':0x1,'Upgrade-Insecure-Request':0x1},..._0x3a4b30,'responseType':'arraybuffer'});return _0x289f39['data'];}catch(_0x453478){console['log'](_0x50ae53(0x1ba)+_0x453478);}}function _0x3fd7(_0x4e96a7,_0x40d4a8){const _0x371d5e=_0x371d();return _0x3fd7=function(_0x3fd772,_0x50bcdb){_0x3fd772=_0x3fd772-0x186;let _0x1c8e79=_0x371d5e[_0x3fd772];return _0x1c8e79;},_0x3fd7(_0x4e96a7,_0x40d4a8);}async function AddMp3Meta(_0x2eaf36,_0x498bc3,_0x10011d={'title':_0x73e13c(0x1ae),'artist':''}){const _0x3f792f=_0x73e13c,_0x2e417e=await toAudio(_0x2eaf36,_0x3f792f(0x1ac)),_0x3840c7=new ID3Writer(_0x2e417e);return _0x3840c7['setFrame']('TIT2',_0x10011d[_0x3f792f(0x1c3)])[_0x3f792f(0x1b3)]('TPE1',[''+_0x10011d[_0x3f792f(0x1a3)]])[_0x3f792f(0x1b3)](_0x3f792f(0x1b9),'\x20')[_0x3f792f(0x1b3)](_0x3f792f(0x18f),0x7d4)[_0x3f792f(0x1b3)](_0x3f792f(0x1af),{'type':0x3,'data':_0x498bc3,'description':_0x3f792f(0x1b0)}),_0x3840c7[_0x3f792f(0x1a5)](),Buffer['from'](_0x3840c7[_0x3f792f(0x1cd)]);}async function ffmpeg(_0x59e607,_0x42baaa=[],_0x9f2081='',_0x520710=''){return new Promise(async(_0x4f47f5,_0x33a8ee)=>{const _0x2c45ee=_0x3fd7;try{let _0x4bcf9c=path['join'](__dirname,_0x2c45ee(0x1cc),+new Date()+'.'+_0x9f2081),_0x49cc6e=_0x4bcf9c+'.'+_0x520710;await fs[_0x2c45ee(0x1c0)][_0x2c45ee(0x1bc)](_0x4bcf9c,_0x59e607),spawn(_0x2c45ee(0x197),['-y','-i',_0x4bcf9c,..._0x42baaa,_0x49cc6e])['on'](_0x2c45ee(0x18a),_0x33a8ee)['on']('close',async _0x23dc9c=>{const _0x333181=_0x2c45ee;try{await fs['promises']['unlink'](_0x4bcf9c);if(_0x23dc9c!==0x0)return _0x33a8ee(_0x23dc9c);_0x4f47f5(await fs[_0x333181(0x1c0)]['readFile'](_0x49cc6e)),await fs[_0x333181(0x1c0)]['unlink'](_0x49cc6e);}catch(_0x54de25){_0x33a8ee(_0x54de25);}});}catch(_0x4dc175){_0x33a8ee(_0x4dc175);}});}async function toAudio(_0x57dda1,_0x1e20c7){const _0x40f00d=_0x73e13c;return ffmpeg(_0x57dda1,[_0x40f00d(0x1cb),_0x40f00d(0x19f),'2','-b:a',_0x40f00d(0x191),_0x40f00d(0x1a7),'44100','-f',_0x40f00d(0x1ac)],_0x1e20c7,_0x40f00d(0x1ac));}module[_0x73e13c(0x1c6)]={'AddMp3Meta':AddMp3Meta,'toAudio':toAudio,'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExifWebp':writeExifWebp};
